<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Jack De Winter" />

        <meta name="description" content="Preface¶ This is the fourth article in a series about Glanceable Displays and my efforts to create one for my household. For other articles in the series, click on the title of the article under the heading “Glanceable Displays” on the right side of the webpage. Introduction¶ In the first …
" />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="Glanceable Displays, Technology, " />

<meta property="og:title" content="Glanceable Displays: Setting Up Our Display "/>
<meta property="og:url" content="https://jackdewinter.github.io/2019/08/04/glanceable-displays-setting-up-our-display/" />
<meta property="og:description" content="Preface¶ This is the fourth article in a series about Glanceable Displays and my efforts to create one for my household. For other articles in the series, click on the title of the article under the heading “Glanceable Displays” on the right side of the webpage. Introduction¶ In the first …" />
<meta property="og:site_name" content="Jack&#39;s Web Site" />
<meta property="og:article:author" content="Jack De Winter" />
<meta property="og:article:published_time" content="2019-08-04T00:00:00-07:00" />
<meta name="twitter:title" content="Glanceable Displays: Setting Up Our Display ">
<meta name="twitter:description" content="Preface¶ This is the fourth article in a series about Glanceable Displays and my efforts to create one for my household. For other articles in the series, click on the title of the article under the heading “Glanceable Displays” on the right side of the webpage. Introduction¶ In the first …">

        <title>Glanceable Displays: Setting Up Our Display  · Jack&#39;s Web Site
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" href="https://jackdewinter.github.io/theme/css/style.min.css?c4027515">

        <link href="https://jackdewinter.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jack&#39;s Web Site - Full Atom Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://jackdewinter.github.io/"><span class=site-name>Jack's Web Site</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://jackdewinter.github.io
                                    >Home</a>
                                </li>
                                <li ><a href="https://jackdewinter.github.io/categories">Categories</a></li>
                                <li ><a href="https://jackdewinter.github.io/tags">Tags</a></li>
                                <li ><a href="https://jackdewinter.github.io/archives">Archives</a></li>
                                <li><form class="navbar-search" action="https://jackdewinter.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://jackdewinter.github.io/2019/08/04/glanceable-displays-setting-up-our-display/">
                Glanceable Displays: Setting Up Our Display
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#preface">Preface</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#what-are-our-displays-implementation-requirements">What Are Our Display’s Implementation Requirements?</a></li>
<li><a href="#installing-the-right-tools">Installing the Right Tools</a></li>
<li><a href="#creating-a-local-startup-file">Creating a Local Startup file</a></li>
<li><a href="#starting-chromium-in-kiosk-mode">Starting Chromium In Kiosk Mode</a></li>
<li><a href="#verifying-things-are-working-properly">Verifying things are Working Properly</a><ul>
<li><a href="#but-what-if-it-is-not">But What if it Is Not?</a></li>
</ul>
</li>
<li><a href="#what-was-accomplished">What Was Accomplished</a></li>
<li><a href="#whats-next">What’s Next?</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            <h2 id="preface">Preface<a class="headerlink" href="#preface" title="Permanent link">¶</a></h2>
<p>This is the fourth article in a series about Glanceable Displays and my efforts to create
one for my household.  For other articles in the series, click on the title of the article
under the heading “Glanceable Displays” on the right side of the webpage.</p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¶</a></h2>

<p>In the first article,
<a href="https://jackdewinter.github.io/2019/07/14/glanceable-displays-what-are-they/">Glanceable Displays: What Are They?</a>,
I introduced the concept of a Glanceable Display, describing a number of things to consider
if you decided to embark on a project like this.  Assuming you decide to proceed, the article
<a href="https://jackdewinter.github.io/2019/07/21/glanceable-displays-installing-raspbian-on-a-raspberry-pi/">Glanceable Displays: Installing Raspbian on a Raspberry Pi</a>
details how I went from an unformatted Raspberry Pi to one with the Raspbian
operating system installed.  As I prefer working from my own workstation, I also detailed
the setup of the SSH service on the Raspberry Pi to allow for remote connections.  Finally,
the article
<a href="https://jackdewinter.github.io/2019/07/28/glanceable-displays-fine-tuning-a-raspberry-pi-installation/">Glanceable Displays: Fine Tuning A Raspberry Pi Installation</a>
shows how I filled in a number of gaps that I encountered with the normal installation,
namely setting up a wireless connection with my network and ensuring the Raspberry Pi has
a solid understanding of the current time.</p>
<p>Having taken all of those steps to be confident that setting up the actual display will work,
it is time to jump right in and set the display up.  But what is it actually that I was
setting up?</p>
<h2 id="what-are-our-displays-implementation-requirements">What Are Our Display’s Implementation Requirements?<a class="headerlink" href="#what-are-our-displays-implementation-requirements" title="Permanent link">¶</a></h2>
<p>When it comes down to it, the articles in the series have been building up to this point.
I now have a glanceable display is a Raspberry Pi.  Upon boot, it will start a web browser
pointing at a specific webpage.  It’s that simple.  However, the devil is in the
requirements.</p>
<p>The high level requirements for the display were covered in the first article in this series,
<a href="https://jackdewinter.github.io/2019/07/14/glanceable-displays-what-are-they/#the-decisions-for-our-glanceable-display">Glanceable Displays: What Are They?</a>.  What is left are the specific
requirements that will realize those high level requirements into an actual display, the
implementation requirements.</p>
<p>The first implementation requirements, already fulfilled, is that any administration of the
machine
can be performed from my desktop.  With the exception of the Raspberry Pi seizing up, which
I have noticed from time to time, I should not have to touch the Raspberry Pi itself.  For
the most part, I will be running <code>sudo reboot</code> to restart the machine, but all of that should
be done without the need to plug a keyboard into the Raspberry Pi.  </p>
<p>The second implementation requirements is that after a reboot of the machine, I shouldn’t
need to plug in a keyboard and type some commands to get it started.  After the machine starts,
it should open a browser and display the page or pages that are
required. To be clear, on reboot with no keyboard and no mouse, the display should start by
itself.  The physical cost of plugging a keyboard into the machine kind of defeats the
“appliance” feel that I want it to have.</p>
<p>The final implementation requirements is that, to the best extent possible, any processing of
what to show on
the display should be performed on a machine other than the Raspberry Pi.  While some of the
more recent machines have more power on them, I want to be able to use lower cost Raspberry Pi
machines for the display.  If I must also run scripts to pull information to generate
information for the display, it means I need a heftier machine.  While this may change later,
I believe that starting with the lower machine requirements is the right thing to do.</p>
<h2 id="installing-the-right-tools">Installing the Right Tools<a class="headerlink" href="#installing-the-right-tools" title="Permanent link">¶</a></h2>
<p>To make sure that I had the right browser and other utilities I needed, I ran the following
command:</p>
<div class="highlight"><pre><span></span>sudo apt-get install chromium-browser x11-xserver-utils unclutter
</pre></div>
<p>A lot of Raspbian installations will come with <code>chromium-browser</code> package already installed,
but I included it for anyone following along.  The <code>x11-xserver-utils</code> package has one or
two small utilities that will make the display look cleaner.  The <code>unclutter</code> package allows
me to hide the mouse cursor after inactivity, perfect for a display where I know there will
be no mouse attached.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When I was testing out the installation instructions, one of the things that made me include instructions on setting up a time server is the <code>apt-get</code> command.  In certain cases, if your Raspberry Pi’s clock is too far in the past, you will not be able to access the right packages with <code>apt-get</code>.  Please make sure your Raspberry Pi’s clock is current before using the <code>apt-get</code> command.</p>
</div>
<h2 id="creating-a-local-startup-file">Creating a Local Startup file<a class="headerlink" href="#creating-a-local-startup-file" title="Permanent link">¶</a></h2>
<p>By default, Raspbian comes with a heavily modified version of the
<a href="https://wiki.archlinux.org/index.php/LXDE">LXDE</a> or “Lightweight X-11 Desktop Environment”.
According to
<a href="https://developer.toradex.com/knowledge-base/how-to-autorun-application-at-the-start-up-in-linux#X11_Desktop">the documentation</a>,
the startup configuration file for the <code>pi</code> user needs to be
located at the path <code>/home/pi/.config/lxsession/LXDE-pi/autostart</code>.  If it is not there, it
will default to the generic file located at the path <code>/etc/xdg/lxsession/LXDE-pi/autostart</code>.</p>
<p>Following the advice of various articles, I elected to create a copy of the <code>autostart</code> file
in my local directory.  That way, if something bad happened, I could always start from the
beginning again by copying the default file over again.  To accomplish this, I executed the
following commands:</p>
<div class="highlight"><pre><span></span>mkdir -p /home/pi/.config/lxsession/LXDE-pi/
cp /etc/xdg/lxsession/LXDE-pi/autostart /home/pi/.config/lxsession/LXDE-pi/autostart
</pre></div>
<p>To place the file in the proper directory, I performed a <code>mkdir</code> command as the <code>LXDE-pi</code>
directory did not exist with the clean Raspbian installation I was using.  Once I had the
directory created, I used the <code>cp</code> command to copy the default version of the <code>autostart</code>
file into that directory.  At that time, the file looked like this:</p>
<div class="highlight"><pre><span></span>@lxpanel --profile LXDE-pi
@pcmanfm --desktop --profile LXDE-pi
@xscreensaver -no-splash
@point-rpi
</pre></div>
<h2 id="starting-chromium-in-kiosk-mode">Starting Chromium In Kiosk Mode<a class="headerlink" href="#starting-chromium-in-kiosk-mode" title="Permanent link">¶</a></h2>
<p>Now that the local startup file was present, I needed to edit it with the command
<code>nano /home/pi/.config/lxsession/LXDE-pi/autostart</code> to add my own startup commands. To
be honest, I tried a number of different things recommended by different articles, and each
one had good points and pad points.  In the end, I ended up with a simple addition to the
the <code>autostart</code> file which was as follows:</p>
<div class="highlight"><pre><span></span>@unclutter
@xset s off
@xset s noblank
@xset -dpms

@chromium-browser --incognito --start-maximized --disable-notifications --disable-extensions --disable-hang-monitor --disable-infobars --kiosk https://bingwallpaper.anerg.com/
</pre></div>
<p>As mentioned above, the <a href="https://wiki.debian.org/unclutter">unclutter tool</a> makes the mouse
disappear when not used, which is perfect for a display that is never going to have a mouse.
The <a href="https://www.computerhope.com/unix/uxset.htm">xset tools</a> allows for the setting of
various XWindows related settings.  Specifically, the <code>s</code> setting is for the screen saver
and the <code>-dpms</code> setting is for the monitor’s Energy Start features.  Finally, the Chromium
browser is the browser I chose to start with for displaying the webpages as it has the most
documentation on <a href="https://www.computerhope.com/unix/uxset.htm">command line switches</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When I say the most documentation on command line switches, look at the link.  The list is way too large to confidently comprehend.  As such, I had to take guesses as to which of the –disable switches I needed.</p>
</div>
<p>In order, the changes I made to the configuration file:</p>
<ul>
<li>hide the mouse</li>
<li>turn the screen saver off</li>
<li>don’t blank the screen</li>
<li>turn off any Energy Star power save monitor features</li>
<li>start the browser (window maximized, incognito, in kiosk mode) pointing at the Bing wallpaper page</li>
</ul>
<p>After I finished editing the file, I made sure to save the file (ctrl-X, <code>yes</code>, enter), and
then double checked all of my changes.  When I confident I had all of them entered
correctly, I proceeded to the next step.</p>
<h2 id="verifying-things-are-working-properly">Verifying things are Working Properly<a class="headerlink" href="#verifying-things-are-working-properly" title="Permanent link">¶</a></h2>
<p>I issued a <code>sudo reboot</code> to reboot the Raspberry Pi.</p>
<p>And waited.</p>
<p>And waited.</p>
<p>And waited.</p>
<p>If the repetition doesn’t make it clear, it felt like forever.  I was sure I had followed my
own instructions properly. Even going off of my own notes, there was the anticipation of
seeing whether or not it would work.  The Raspberry Pi I was using seemed slower than usual,
but after a while, everything started up and it was displaying the website
<code>https://bingwallpaper.anerg.com/</code> in the browser.</p>
<p>As I checked the display, I saw the mouse pointer disappear after a few minutes.  Check.</p>
<p>After a couple of hours, the screen saver had not kicked in.  Check.</p>
<p>After a couple of hours, the monitor was still displaying the website. Check.</p>
<p>For the most part, due to some good notes that I kept, everything was up and running the way it
was supposed to.</p>
<h3 id="but-what-if-it-is-not">But What if it Is Not?<a class="headerlink" href="#but-what-if-it-is-not" title="Permanent link">¶</a></h3>
<p>The first log file that I used to debug things was the <code>/home/pi/.xsession-errors</code> file.
After executing the <code>cat /home/pi/.xsession-errors</code> command, I noticed that while it didn’t
have a lot of useful information, it had two important pieces of information:</p>
<div class="highlight"><pre><span></span>** Message: 17:00:13.893: main.vala:101: Session is LXDE-pi
** Message: 17:00:13.894: main.vala:102: DE is LXDE
** Message: 17:00:16.375: main.vala:133: log directory: /home/pi/.cache/lxsession/LXDE-pi
** Message: 17:00:16.376: main.vala:134: log path: /home/pi/.cache/lxsession/LXDE-pi/run.log
</pre></div>
<p>This information let me know I was putting the changes in the right place, and where to look
for the log for the current user’s session: <code>/home/pi/.cache/lxsession/LXDE-pi/run.log</code>. Also,
the fact that it was putting the logs in the <code>/home/pi/.cache/lxsession/LXDE-pi</code> directory
meant that it noticed the <code>autostart</code> file that I added, as was using it.  That was
a useful piece of verification.</p>
<p>When I started looking at that file, I was at first overwhelmed before I found a couple of
tricks to help me out.  The first trick was to look for a file that looks like this:</p>
<div class="highlight"><pre><span></span>** Message: 17:00:16.917: autostart.vala:42: Autostart path : /home/pi/.config/lxsession/LXDE-pi/autostart
</pre></div>
<p>Everything before that point is just the other parts of LXDE getting set up, and it really
didn’t have any effect on what I was trying to do.  After that line were a series of lines that
began with <code>Launching</code>, corresponding with each line of the <code>autostart</code> file.  The next section
of lines complemented those lines, providing for the exit codes of each of the lines in that
file.  Finally, there is a section starting with <code>Connecting ...</code> that signifies the section
of the log where the wired and wireless link status is logged.  While the link status is
important, the fact that it gets to this point successfully generally means that the display
is ready to go!</p>
<h2 id="what-was-accomplished">What Was Accomplished<a class="headerlink" href="#what-was-accomplished" title="Permanent link">¶</a></h2>
<p>This article detailed the work that was needed to take my Raspberry Pi from a sufficiently
set up machine to fulfilling 2 out of the 3 requirements of my a glanceable display.  After
noting some simple requirements for my glanceable display, I proceeded to add some tools to
the machine that were needed for the configuration changes that followed.  In case someone is
following what I am doing for their own glanceable display, I detailed some of the debugging
steps that I used to check to make sure that my configuration changes were working.</p>
<p>Administration was already
enabled by
<a href="https://jackdewinter.github.io/2019/07/21/glanceable-displays-installing-raspbian-on-a-raspberry-pi/#step-5-setting-up-ssh-access">setting up SSH access</a>,
satisfying the first implementation requirements.  The big step forward in this article was
satisfying the second implementation requirements by automatically launching a web browser
pointing to a specific webpage after rebooting the glanceable display.  </p>
<p>This leaves the final implementation requirement to be completed: generating the display’s
content without</p>
<h2 id="whats-next">What’s Next?<a class="headerlink" href="#whats-next" title="Permanent link">¶</a></h2>
<p>In the final article in this series,
Glanceable Displays: What Do I Want To Display?
I walk through the steps I took to determine where to get finalized webpages to display
in my glanceable display, while adhering to the final implementation requirement of my glanceable display.</p>


            <section>
    <p id="post-share-links">
    Like this post? Share on:
    <a href="https://twitter.com/intent/tweet?text=Glanceable%20Displays%3A%20Setting%20Up%20Our%20Display&url=https%3A//jackdewinter.github.io/2019/08/04/glanceable-displays-setting-up-our-display/&hashtags=glanceable-displays" target="_blank" title="Share on Twitter">Twitter</a>
    ❄
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//jackdewinter.github.io/2019/08/04/glanceable-displays-setting-up-our-display/" target="_blank" title="Share on Facebook">Facebook</a>
    ❄
    <a href="mailto:?subject=Glanceable%20Displays%3A%20Setting%20Up%20Our%20Display&amp;body=https%3A//jackdewinter.github.io/2019/08/04/glanceable-displays-setting-up-our-display/" target="_blank" title="Share via Email">Email</a>
    </p>
</section>

            
            


            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://jackdewinter.github.io/2019/07/28/glanceable-displays-fine-tuning-a-raspberry-pi-installation/" title="Previous: Glanceable Displays: Fine Tuning A Raspberry Pi Installation">Glanceable Displays: Fine Tuning A Raspberry Pi Installation</a></li>
                <li class="next-article"><a href="https://jackdewinter.github.io/2019/08/11/choosing-a-static-web-site-generator/" title="Next: Choosing a Static (Web) Site Generator">Choosing a Static (Web) Site Generator</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
    <h4>Reading Time</h4>
    <p>~8 min read</p>
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2019-08-04T00:00:00-07:00">Aug 4, 2019</time>
        <h4>Glanceable Displays</h4>
    <ul class="multi-parts-list">
            <li >
            <a href="https://jackdewinter.github.io/2019/07/14/glanceable-displays-what-are-they/" title="Glanceable Displays: What Are They?">Part 1: Glanceable Displays: What Are They?</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2019/07/21/glanceable-displays-installing-raspbian-on-a-raspberry-pi/" title="Glanceable Displays: Installing Raspbian on a Raspberry Pi">Part 2: Glanceable Displays: Installing Raspbian on a Raspberry Pi</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2019/07/28/glanceable-displays-fine-tuning-a-raspberry-pi-installation/" title="Glanceable Displays: Fine Tuning A Raspberry Pi Installation">Part 3: Glanceable Displays: Fine Tuning A Raspberry Pi Installation</a>
            </li>
            <li  class="active-part">
            Part 4: Glanceable Displays: Setting Up Our Display
            </li>
    </ul>
            <h4>Category</h4>
            <a class="category-link" href="https://jackdewinter.github.io/categories.html#technology-ref">Technology</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://jackdewinter.github.io/tags#glanceable-displays-ref">Glanceable Displays
                    <span>4</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
    <a href="https://github.com/jackdewinter" title="My GitHub Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github-alt sidebar-social-links"></i></a>
    <a href="https://www.linkedin.com/in/jackdewinter/" title="My linkedin Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-linkedin sidebar-social-links"></i></a>
    <a href="https://jackdewinter.github.io/feeds/all.atom.xml" title="Subscribe in a reader" class="sidebar-social-links" target="_blank">
    <i class="fa fa-rss sidebar-social-links"></i></a>
            





            





        </div>
        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        
&copy; Copyright 2019 by Jack De Winter and licensed under a <a rel="license"
  href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
  Creative Commons Attribution 4.0 International License</a>.

    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    

    <script  language="javascript" type="text/javascript">
function uncollapse() {
    if (window.location.hash.match(/^#comment-\d+$/)) {
        $('#disqus_thread').collapse('show');
    }
}
</script>
<script type="text/javascript" language="JavaScript">
uncollapse();
window.onhashchange=function(){
    if (window.location.hash.match(/^#comment-\d+$/))
        window.location.reload(true);
}
</script>
<script>
$('#disqus_thread').on('shown', function () {
    var link = document.getElementById('comment-accordion-toggle');
    var old_innerHTML = link.innerHTML;
    $(link).fadeOut(200, function() {
        $(this).text('Click here to hide comments').fadeIn(200);
    });
    $('#disqus_thread').on('hidden', function () {
        $(link).fadeOut(200, function() {
            $(this).text(old_innerHTML).fadeIn(200);
        });
    })
})
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>